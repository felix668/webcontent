!function(t){function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var e={};o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="",o(o.s=1)}([,function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(3),i=(e.n(n),e(4)),c=e.n(i),s=e(7),r=e.n(s),a=e(45),l=e.n(a),u=e(10),f=e.n(u),p=e(14),d=e.n(p),v=e(49),h=e.n(v),_=e(53),b=e.n(_);new Vue({el:"#root",data:{plat:window.pt,loading:!0,over:!1,mask:!1,page:{},isPub:0,worthData:[],worthData1:[{author:"舒静庐",bid:223001,cover:"https://static.reader.qq.com/cover/1/223001/b_223001.jpg",price:"1.00",title:"儿女的孝心：把幸福与健康送给老爸老妈"},{author:"吉米",bid:222999,cover:"https://static.reader.qq.com/cover/999/222999/b_222999.jpg",price:"1.00",title:"月光下的迷情女孩：帅哥真坏，美眉真野"},{author:"侯书森 邱卫东",bid:223e3,cover:"https://static.reader.qq.com/cover/0/223000/b_223000.jpg",price:"1.00",title:"猪八戒是个好男人"},{author:"曹金洪",bid:223048,cover:"https://static.reader.qq.com/cover/48/223048/b_223048.jpg",price:"1.00",title:"人是自身幸福的设计师（经典智慧系列）"},{author:"椰海",bid:223049,cover:"https://static.reader.qq.com/cover/49/223049/b_223049.jpg",price:"1.00",title:"梦惑"},{author:"曹金洪",bid:223050,cover:"https://static.reader.qq.com/cover/50/223050/b_223050.jpg",price:"1.00",title:"容易走的都是下坡路（经典智慧系列）"}],flog:!0},created:function(){1==common.param("pub")&&(this.isPub=1),this.init()},mounted:function(){},methods:{init:function(){var t=this;Local.reqaObj(common.server()+"pkg170706/init?pub="+(1==this.isPub?1:0),function(o){if(-4==o.code)return void(t.over=!0);t.worthData=o.bookList});var o="https://event.reader.qq.com/activity/pkgTSJ/init?topicIds=329526,329536";1==this.isPub&&(o="https://event.reader.qq.com/activity/pkgTSJ/init?topicIds=329564,329564"),Local.reqaObj(o,function(o){if(-4==o.code)return void(t.over=!0);t.page=o,document.body.style.backgroundColor=t.page.pictureAndStyle.bodycolor,"ios"==t.plat&&(t.page.isLogin=!0),t.loading=!1},[],function(){Local.showToast("网络异常，请稍候重试")},1),Local.forceLog(common.param("act_f"),"TSJpageinit")},buy:function(t){this.mask=!0,document.body.style.overflow="hidden",this.buyinfo=t},hidemask:function(){this.mask=!1,this.getMoney(),document.body.style.overflow="auto"},sharePage:function(){var t=this.page.pictureAndStyle,o={url:common.sharefront()+"TemplateOfTSJ/com/index.html?gd="+this.page.gd+"&lt="+this.page.lt+"&uid="+this.page.uid+"&topicIds="+common.param("topicIds")+"&act_f="+common.param("act_f"),cover:t.sharecover,title:t.sharetitle,desc:t.sharedesc};Local.shareTopic(o.url,o.cover,o.title,o.desc),Local.forceLog(common.param("act_f"),"TSJshare")},getMoney:function(){var t=this;"ios"==this.plat&&Local.reqaObj(common.server()+"pkgTSJ/recover",function(o){t.page.money=o.money,t.page.z_money=o.z_money},[],function(){},1)}},components:{maskLoad:c.a,tab:d.a,tip:h.a,maskOver:r.a,rule:f.a,bottomBtn:l.a,notLogin:b.a,worthPackage:e(57),batchPackage:e(61),choosePackage:e(91),maskBuy:e(95)}})},function(t,o){t.exports=function(t,o,e,n,i){var c,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(c=t,s=t.default);var a="function"==typeof s?s.options:s;o&&(a.render=o.render,a.staticRenderFns=o.staticRenderFns),n&&(a._scopeId=n);var l;if(i?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},a._ssrRegister=l):e&&(l=e),l){var u=a.functional,f=u?a.render:a.beforeCreate;u?a.render=function(t,o){return l.call(o),f(t,o)}:a.beforeCreate=f?[].concat(f,l):[l]}return{esModule:c,exports:s,options:a}}},function(t,o){},function(t,o,e){function n(t){e(5)}var i=e(2)(null,e(6),n,"data-v-4c9cbdec",null);t.exports=i.exports},function(t,o){},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"loadingbox"},[e("div",{staticClass:"loadingTop"},[e("span",{staticClass:"loads"},[e("svg",{attrs:{width:"24",height:"23",viewBox:"0 0 48 46",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticClass:"cls-default",attrs:{d:"M47.43 24C47.43 11.06 36.94.57 24 .57S.57 11.06.57 24c0 9.27 5.434 17.55 13.72 21.328 1.006.458 2.192.015 2.65-.99.46-1.005.015-2.192-.99-2.65C9.076 38.555 4.57 31.688 4.57 24c0-10.73 8.7-19.43 19.43-19.43S43.43 13.27 43.43 24c0 7.66-4.473 14.505-11.307 17.655-1.004.462-1.442 1.65-.98 2.653.463 1.004 1.65 1.442 2.654.98C42.037 41.49 47.43 33.234 47.43 24z"}})])]),t._v("\n\t\t正在加载...\n\t")])])},staticRenderFns:[]}},function(t,o,e){function n(t){e(8)}var i=e(2)(null,e(9),n,"data-v-03b6e24c",null);t.exports=i.exports},function(t,o){},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"over"},[e("div",{staticClass:"over-c"},[e("img",{attrs:{src:"images/i-over.png",alt:"本期活动已结束"}}),t._v(" "),e("p",{staticClass:"over-p1"},[t._v("本期活动已结束")]),t._v(" "),e("p",{staticClass:"over-p2"},[t._v("敬请期待下一波活动")])])])}]}},function(t,o,e){function n(t){e(11)}var i=e(2)(e(12),e(13),n,null,null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={props:["rule"]}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("dl",{staticClass:"rule"},[e("dt",[t._v("活动规则：")]),t._v(" "),e("dd",{staticClass:"detail"},t._l(t.rule,function(o,n){return e("p",[e("span",[t._v(t._s(n+1))]),t._v("\n\t\t\t"+t._s(o)+"\n\t\t")])}))])},staticRenderFns:[]}},function(t,o,e){function n(t){e(15)}var i=e(2)(e(16),e(17),n,"data-v-36e6907f",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={props:["flog","pkdata"],data:function(){return{tab:{pos:0,fix:!1},styleobj:this.pkdata.pictureAndStyle,plat:window.pt}},created:function(){},mounted:function(){this.pkdata.isLogin?this.init():this.tab.pos=-1},methods:{init:function(){var t=this;setTimeout(function(){t.fixscroll()},1e3)},fixscroll:function(){var t,o,e=this.$refs.tab.clientHeight,n=document.querySelectorAll("#tab li");t=this.$refs.tab.offsetTop;var i=parseInt(document.querySelector("#column0").offsetTop-e),c=parseInt(document.querySelector("#column1").offsetTop-e),s=parseInt(document.querySelector("#column2").offsetTop-e),r=document.querySelector("#root"),a=this;window.onscroll=function(){o=document.body.scrollTop,o>=t?(r.style.marginTop=e+"px",a.tab.fix=!0):(a.tab.fix=!1,r.style.marginTop="0"),a.tab.pos=o<c?0:o>=c&&o<s?1:o>=s?2:-1};for(var l=0;l<n.length;l++)!function(t){n[l].onclick=function(){0==t&&1==!!column0?window.scrollTo(0,i):1==t?window.scrollTo(0,c):2==t&&window.scrollTo(0,s),a.flog&&Local.forceLog(common.param("act_f"),"TJStab")}}(l)}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ul",{ref:"tab",staticClass:"tab",class:{fixtab:t.tab.fix},attrs:{id:"tab"}},[e("li",{class:{active:0==t.tab.pos},style:"background-image:url("+t.styleobj.tab+")"}),t._v(" "),e("li",{class:{active:1==t.tab.pos},style:"background-image:url("+t.styleobj.tab+")"}),e("li",{class:{active:2==t.tab.pos},style:"background-image:url("+t.styleobj.tab+")"})])},staticRenderFns:[]}},function(t,o){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,o){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,o,e){t.exports=!e(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,o){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,o,e){t.exports={default:e(63),__esModule:!0}},function(t,o){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,o,e){var n=e(25),i=e(26);t.exports=function(t){return n(i(t))}},function(t,o,e){var n=e(79);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,o){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,o){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},,,,,,,,,,,,,,,,,,function(t,o,e){function n(t){e(46)}var i=e(2)(e(47),e(48),n,"data-v-3f5f14ca",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={methods:{openChest:function(){Local.openInside(common.front()+"act170704/index.html")},goMain:function(){Local.openInside(common.front()+"act170705/index.html")}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"btnBox"},[e("div",{staticClass:"openChest",on:{click:t.openChest}},[t._v("开宝箱")]),t._v(" "),e("div",{staticClass:"goMain",on:{click:t.goMain}},[t._v("赚更多积分")])])},staticRenderFns:[]}},function(t,o,e){function n(t){e(50)}var i=e(2)(e(51),e(52),n,"data-v-45529e85",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={props:["package"],data:function(){return{plat:window.pt}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"tip"},[e("img",{staticClass:"foot",attrs:{src:"src/images/foot.png"}}),t._v(" "),e("p",{staticClass:"desc1"},[t._v("买好书，送积分！消耗"+t._s("ios"==t.plat?"阅点、阅券":"书币、书券")+"送等额积分")]),t._v(" "),e("p",{staticClass:"desc2"},[t._v("获积分，开宝箱！"+t._s("ios"==t.plat?"阅券":"书券")+"Q币每天送")])])},staticRenderFns:[]}},function(t,o,e){function n(t){e(54)}var i=e(2)(e(55),e(56),n,"data-v-dfab0b48",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={created:function(){Local.forceLog(common.param("act_f"),"TJSnotLogin")},methods:{login:function(){Local.forceLog(common.param("act_f"),"TJSclickLogin"),console.log(1),Local.login()}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"notLogin"},[e("img",{attrs:{src:"src/images/notLogin.png",alt:""}}),t._v(" "),e("p",{on:{click:t.login}},[t._v("登录参与")])])},staticRenderFns:[]}},function(t,o,e){function n(t){e(58)}var i=e(2)(e(59),e(60),n,"data-v-7de764b0",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={props:["worth","pub"],data:function(){return{}},computed:{styleObj:function(){return 1==this.pub?{borderColor:"#59bfff"}:{borderColor:"#ffd6b1"}}},mounted:function(){this.initstyle()},methods:{initstyle:function(){},goDetail:function(t){Local.forceLog(common.param("act_f"),"TJSbuy"),Local.goBookDetail(t)}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"plist",attrs:{id:"column0"}},[e("img",{staticClass:"worth-title",attrs:{src:"src/images/worth-title.png"}}),t._v(" "),e("div",{staticClass:"package0",style:t.styleObj},[e("p",{staticClass:"desc"},[t._v("进入书籍详情页，点击“下载”即可购买")]),t._v(" "),e("ul",{staticClass:"booklist"},t._l(t.worth.slice(0,3),function(o,n){return e("li",[e("div",{staticClass:"bcover",on:{click:function(e){t.goDetail(o.bid)}}},[e("img",{attrs:{src:o.cover},on:{click:function(e){t.goDetail(o.bid)}}})]),t._v(" "),e("p",{staticClass:"bname"},[t._v(t._s(o.title))]),t._v(" "),e("p",{staticClass:"author"},[t._v(t._s(o.author))]),t._v(" "),e("div",{staticClass:"choice",on:{click:function(e){t.goDetail(o.bid)}}},[t._v("购买")])])})),t._v(" "),e("ul",{staticClass:"booklist"},t._l(t.worth.slice(3,6),function(o,n){return e("li",[e("div",{staticClass:"bcover",on:{click:function(e){t.goDetail(o.bid)}}},[e("img",{attrs:{src:o.cover},on:{click:function(e){t.goDetail(o.bid)}}})]),t._v(" "),e("p",{staticClass:"bname"},[t._v(t._s(o.title))]),t._v(" "),e("p",{staticClass:"author"},[t._v(t._s(o.author))]),t._v(" "),e("div",{staticClass:"choice",on:{click:function(e){t.goDetail(o.bid)}}},[t._v("购买")])])}))])])},staticRenderFns:[]}},function(t,o,e){var n=e(2)(e(62),e(90),null,null,null);t.exports=n.exports},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(22),i=e.n(n);o.default={props:["pkdata"],data:function(){return{pknum:this.pkdata.batchNumber||[],isbuy:this.pkdata.userHasBoughtPackageId||[],batchPackage:this.pkdata.batchPackage,styleobj:this.pkdata.pictureAndStyle}},methods:{goDetail:function(t){Local.goBookDetail(t)},buybook:function(t){if(!this.pkdata.isLogin)return void Local.login();var o=i.a({},this.batchPackage[t],{pickId:t,clomn:1});this.$emit("buy",o),Local.forceLog(common.param("act_f"),"TSJc1btn"+t)}}}},function(t,o,e){e(64),t.exports=e(23).Object.assign},function(t,o,e){var n=e(65);n(n.S+n.F,"Object",{assign:e(75)})},function(t,o,e){var n=e(18),i=e(23),c=e(66),s=e(68),r=function(t,o,e){var a,l,u,f=t&r.F,p=t&r.G,d=t&r.S,v=t&r.P,h=t&r.B,_=t&r.W,b=p?i:i[o]||(i[o]={}),g=b.prototype,m=p?n:d?n[o]:(n[o]||{}).prototype;p&&(e=o);for(a in e)(l=!f&&m&&void 0!==m[a])&&a in b||(u=l?m[a]:e[a],b[a]=p&&"function"!=typeof m[a]?e[a]:h&&l?c(u,n):_&&m[a]==u?function(t){var o=function(o,e,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(o);case 2:return new t(o,e)}return new t(o,e,n)}return t.apply(this,arguments)};return o.prototype=t.prototype,o}(u):v&&"function"==typeof u?c(Function.call,u):u,v&&((b.virtual||(b.virtual={}))[a]=u,t&r.R&&g&&!g[a]&&s(g,a,u)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,t.exports=r},function(t,o,e){var n=e(67);t.exports=function(t,o,e){if(n(t),void 0===o)return t;switch(e){case 1:return function(e){return t.call(o,e)};case 2:return function(e,n){return t.call(o,e,n)};case 3:return function(e,n,i){return t.call(o,e,n,i)}}return function(){return t.apply(o,arguments)}}},function(t,o){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,o,e){var n=e(69),i=e(74);t.exports=e(20)?function(t,o,e){return n.f(t,o,i(1,e))}:function(t,o,e){return t[o]=e,t}},function(t,o,e){var n=e(70),i=e(71),c=e(73),s=Object.defineProperty;o.f=e(20)?Object.defineProperty:function(t,o,e){if(n(t),o=c(o,!0),n(e),i)try{return s(t,o,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[o]=e.value),t}},function(t,o,e){var n=e(19);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,o,e){t.exports=!e(20)&&!e(21)(function(){return 7!=Object.defineProperty(e(72)("div"),"a",{get:function(){return 7}}).a})},function(t,o,e){var n=e(19),i=e(18).document,c=n(i)&&n(i.createElement);t.exports=function(t){return c?i.createElement(t):{}}},function(t,o,e){var n=e(19);t.exports=function(t,o){if(!n(t))return t;var e,i;if(o&&"function"==typeof(e=t.toString)&&!n(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!n(i=e.call(t)))return i;if(!o&&"function"==typeof(e=t.toString)&&!n(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,o){t.exports=function(t,o){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:o}}},function(t,o,e){"use strict";var n=e(76),i=e(87),c=e(88),s=e(89),r=e(25),a=Object.assign;t.exports=!a||e(21)(function(){var t={},o={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(t){o[t]=t}),7!=a({},t)[e]||Object.keys(a({},o)).join("")!=n})?function(t,o){for(var e=s(t),a=arguments.length,l=1,u=i.f,f=c.f;a>l;)for(var p,d=r(arguments[l++]),v=u?n(d).concat(u(d)):n(d),h=v.length,_=0;h>_;)f.call(d,p=v[_++])&&(e[p]=d[p]);return e}:a},function(t,o,e){var n=e(77),i=e(86);t.exports=Object.keys||function(t){return n(t,i)}},function(t,o,e){var n=e(78),i=e(24),c=e(80)(!1),s=e(83)("IE_PROTO");t.exports=function(t,o){var e,r=i(t),a=0,l=[];for(e in r)e!=s&&n(r,e)&&l.push(e);for(;o.length>a;)n(r,e=o[a++])&&(~c(l,e)||l.push(e));return l}},function(t,o){var e={}.hasOwnProperty;t.exports=function(t,o){return e.call(t,o)}},function(t,o){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,o,e){var n=e(24),i=e(81),c=e(82);t.exports=function(t){return function(o,e,s){var r,a=n(o),l=i(a.length),u=c(s,l);if(t&&e!=e){for(;l>u;)if((r=a[u++])!=r)return!0}else for(;l>u;u++)if((t||u in a)&&a[u]===e)return t||u||0;return!t&&-1}}},function(t,o,e){var n=e(27),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,o,e){var n=e(27),i=Math.max,c=Math.min;t.exports=function(t,o){return t=n(t),t<0?i(t+o,0):c(t,o)}},function(t,o,e){var n=e(84)("keys"),i=e(85);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,o,e){var n=e(18),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,o){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,o){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,o){o.f=Object.getOwnPropertySymbols},function(t,o){o.f={}.propertyIsEnumerable},function(t,o,e){var n=e(26);t.exports=function(t){return Object(n(t))}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"plist",attrs:{id:"column1"}},[e("img",{staticClass:"title",attrs:{src:t.styleobj.title1}}),t._v(" "),t._l(t.batchPackage,function(o,n){return e("div",{staticClass:"package",style:"backgroundImage:url("+t.styleobj.columnbg1+")"},[e("div",{staticClass:"pname"},[e("h3",[t._v(t._s(o.bagName))])]),t._v(" "),Math.max.apply([],t.pknum)==t.pknum[n]?e("img",{staticClass:"hot",attrs:{src:t.styleobj.hot}}):t._e(),t._v(" "),e("ul",{staticClass:"booklist"},t._l(o.bookInfo,function(o){return e("li",[e("div",{staticClass:"bcover",on:{click:function(e){t.goDetail(o.bid)}}},[e("img",{attrs:{src:o.cover}})]),t._v(" "),e("p",{staticClass:"bname"},[t._v(t._s(o.title))]),t._v(" "),e("p",{staticClass:"author"},[t._v(t._s(o.author))])])})),t._v(" "),e("div",{staticClass:"buyinfo"},[e("div",{staticClass:"prices"},[e("strong",{style:{color:t.styleobj.color1}},[t._v(t._s(o.discountBagMoney)+"元／3本")]),t._v(" "),e("p",[t._v(t._s(o.originalBagMoney)+"元/3本")])]),t._v(" "),t.isbuy&&-1!=t.isbuy.indexOf(n+"")?e("div",{staticClass:"btn disable"},[e("strong",[t._v("立即抢购")]),t._v(" "),e("span",[t._v("("+t._s(t.pknum[n])+"人已抢)")])]):e("div",{staticClass:"btn",style:{backgroundColor:t.styleobj.color2},on:{click:function(o){t.buybook(n)}}},[e("strong",[t._v("立即抢购")]),t._v(" "),e("span",[t._v("("+t._s(t.pknum[n])+"人已抢)")])])])])})],2)},staticRenderFns:[]}},function(t,o,e){function n(t){e(92)}var i=e(2)(e(93),e(94),n,"data-v-7e0393b2",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(22),i=e.n(n);o.default={props:["pkdata"],data:function(){return{pknum:this.pkdata.choiceNumber||[],hasChoiced:this.pkdata.userHasChoicePackageId||[],choiceinfo:{0:[],1:[],2:[]},choosePackage:this.pkdata.choosePackage,styleobj:this.pkdata.pictureAndStyle}},mounted:function(){this.initstyle()},methods:{initstyle:function(){for(var t=document.querySelectorAll(".choice"),o=document.querySelectorAll(".checked"),e=0;e<t.length;e++)t[e].style.backgroundColor=this.styleobj.color1;for(var e=0;e<o.length;e++)o[e].style.backgroundColor=this.styleobj.color2},goDetail:function(t){Local.goBookDetail(t)},choose:function(t,o,e){this.hasChoiced[t]||(console.log(e),this.choiceinfo[t].indexOf(o)>-1?(this.removeTodo(this.choiceinfo[t],o),e.currentTarget.style.backgroundColor=this.styleobj.color1):this.choiceinfo[t].length<3&&(this.choiceinfo[t].push(o),e.currentTarget.style.backgroundColor=this.styleobj.color2))},removeTodo:function(t,o){var e=t.indexOf(o);t.splice(e,1)},buybook:function(t){if(!(this.choiceinfo[t].length<3)){if(!this.pkdata.isLogin)return void Local.login();var o=this.choosePackage[t],e=i.a({},o,{bookInfo:[],pickId:t,clomn:2});this.choiceinfo[t].forEach(function(t,n){e.bookInfo.push(o.bookInfo[t])}),e.choiceId=this.choiceinfo[t].join("_"),this.$emit("buy",e),Local.forceLog(common.param("act_f"),"TSJc2btn"+t)}}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"plist",attrs:{id:"column2"}},[e("img",{staticClass:"title",attrs:{src:t.styleobj.title2}}),t._v(" "),t._l(t.choosePackage,function(o,n){return e("div",{staticClass:"package",style:"backgroundImage:url("+t.styleobj.columnbg2+")"},[e("div",{staticClass:"pname"},[e("h3",[t._v(t._s(o.bagName))])]),t._v(" "),Math.max.apply([],t.pknum)==t.pknum[n]?e("img",{staticClass:"hot",attrs:{src:t.styleobj.hot}}):t._e(),t._v(" "),e("div",{staticClass:"pktag",style:"backgroundImage:url("+t.styleobj.tag+")"},[t._v(t._s(o.discountBagMoney)+"元购")]),t._v(" "),e("ul",{staticClass:"booklist"},t._l(o.bookInfo.slice(0,3),function(o,i){return e("li",[e("div",{staticClass:"bcover",on:{click:function(e){t.goDetail(o.bid)}}},[e("img",{attrs:{src:o.cover}}),t._v(" "),e("span",{staticClass:"bprice"},[t._v(t._s(o.price)+"元/本")])]),t._v(" "),e("p",{staticClass:"bname"},[t._v(t._s(o.title))]),t._v(" "),e("p",{staticClass:"author"},[t._v(t._s(o.author))]),t._v(" "),e("div",{staticClass:"choice",class:{checked:t.hasChoiced[n]&&t.hasChoiced[n].indexOf(i)>-1||t.choiceinfo[n].indexOf(i)>-1,grey:t.hasChoiced[n]&&-1==t.hasChoiced[n].indexOf(i)||3==t.choiceinfo[n].length&&-1==t.choiceinfo[n].indexOf(i)},on:{click:function(o){t.choose(n,i,o)}}},[t._v("\n\t\t\t\t\t选TA\n\t\t\t\t\t"),t.hasChoiced[n]&&t.hasChoiced[n].indexOf(i)>-1||t.choiceinfo[n].indexOf(i)>-1?e("div",{staticClass:"checkico",style:{backgroundColor:t.styleobj.color2}}):t._e()])])})),t._v(" "),e("ul",{staticClass:"booklist"},t._l(o.bookInfo.slice(3,6),function(o,i){return e("li",[e("div",{staticClass:"bcover",on:{click:function(e){t.goDetail(o.bid)}}},[e("img",{attrs:{src:o.cover}}),t._v(" "),e("span",{staticClass:"bprice"},[t._v(t._s(o.price)+"元/本")])]),t._v(" "),e("p",{staticClass:"bname"},[t._v(t._s(o.title))]),t._v(" "),e("p",{staticClass:"author"},[t._v(t._s(o.author))]),t._v(" "),e("div",{staticClass:"choice",class:{checked:t.hasChoiced[n]&&t.hasChoiced[n].indexOf(i+3)>-1||t.choiceinfo[n].indexOf(i+3)>-1,grey:t.hasChoiced[n]&&-1==t.hasChoiced[n].indexOf(i+3)||3==t.choiceinfo[n].length&&-1==t.choiceinfo[n].indexOf(i+3)},on:{click:function(o){t.choose(n,i+3,o)}}},[t._v("\n\t\t\t\t\t选TA\n\t\t\t\t\t"),t.hasChoiced[n]&&t.hasChoiced[n].indexOf(parseInt(i+3))>-1||t.choiceinfo[n].indexOf(i+3)>-1?e("div",{staticClass:"checkico",style:{backgroundColor:t.styleobj.color2}}):t._e()])])})),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.choiceinfo[n].length>0,expression:"choiceinfo[index].length>0"}],staticClass:"tip"},[t._v("再次点击可取消选择")]),t._v(" "),e("div",{staticClass:"buyinfo"},[e("div",{staticClass:"prices"},[e("strong",{style:{color:t.styleobj.color2}},[t._v("已选"+t._s(t.hasChoiced[n]?"3":t.choiceinfo[n].length)+"本")]),t._v(" "),e("p",[t._v(t._s(o.originalBagMoney)+"元/3本")])]),t._v(" "),t.hasChoiced[n]||3!=t.choiceinfo[n].length?e("div",{staticClass:"btn disable"},[e("strong",[t._v("立即抢购")]),t._v(" "),e("span",[t._v("("+t._s(t.pknum[n])+"人已抢)")])]):e("div",{staticClass:"btn",style:{backgroundColor:t.styleobj.color2},on:{click:function(o){t.buybook(n)}}},[e("strong",[t._v("立即抢购")]),t._v(" "),e("span",[t._v("("+t._s(t.pknum[n])+"人已抢)")])])])])})],2)},staticRenderFns:[]}},function(t,o,e){function n(t){e(96)}var i=e(2)(e(97),e(98),n,"data-v-bbc92220",null);t.exports=i.exports},function(t,o){},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={props:["buyinfo","money","zmoney","btncolor","plat","pub"],data:function(){return{fail:!1,isEnough:parseFloat(this.zmoney+this.money)>=100*parseFloat(this.buyinfo.discountBagMoney),quan:"adr"==this.plat?"书券":"阅券",bi:"adr"==this.plat?"书币":"阅点",canpick:!0}},created:function(){console.log(this.pub)},methods:{hidemask:function(){this.$parent.hidemask()},submit:function(){if(this.canpick){this.canpick=!1;var t=this,o=1==this.buyinfo.clomn?"pkgTSJ/pick?pickId="+this.buyinfo.pickId+"&topicIds=329526,329536":"pkgTSJ/choice?pickId="+this.buyinfo.pickId+"&choiceId="+this.buyinfo.choiceId+"&topicIds=329526,329536";1==this.pub&&(o=1==this.buyinfo.clomn?"pkgTSJ/pick?pickId="+this.buyinfo.pickId+"&topicIds=329564,329564":"pkgTSJ/choice?pickId="+this.buyinfo.pickId+"&choiceId="+this.buyinfo.choiceId+"&topicIds=329564,329564"),Local.reqaObj(common.server()+o,function(o){console.log(o),t.success(o)},[],function(){t.showerror()},1),Local.forceLog(common.param("act_f"),"TSJbuy")}},success:function(t){1==t.code?("ios"==this.plat&&Local.addToShelfBooks(window.JSON.stringify(t.bookInfo)),window.location.reload()):-1==t.code?this.isEnough=!1:-4==t.code&&(this.$parent.over=!0),this.canpick=!0},showerror:function(){this.fail=!0,this.canpick=!0},recharge:function(){Local.forceLog(common.param("act_f"),"TSJrecharge")}},filters:{price:function(t){return Math.ceil(100*t)}}}},function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"mask"},[t.fail?e("div",{staticClass:"tiparea"},[e("img",{staticClass:"failico",attrs:{src:"images/fail.png"}}),t._v(" "),e("p",{staticClass:"fail"},[t._v("购买失败"),e("br"),t._v("请重试")]),t._v(" "),e("div",{staticClass:"submit",style:{backgroundColor:t.btncolor},on:{click:function(o){o.preventDefault(),t.hidemask(o)}}},[t._v("知道了")])]):e("div",{staticClass:"tiparea"},[e("img",{attrs:{src:"images/tip.png"}}),t._v(" "),e("h2",[t._v(t._s(t.buyinfo.bagName))]),t._v(" "),e("p",{staticClass:"bor"},t._l(t.buyinfo.bookInfo,function(o){return e("span",[t._v("\n\t\t\t\t《"+t._s(o.title)+"》\n\t\t\t")])})),t._v(" "),e("div",{staticClass:"money"},[e("p",{staticClass:"bookp"},[t._v("\n\t\t\t\t价格："),e("strong",[t._v(t._s(t._f("price")(t.buyinfo.discountBagMoney)))]),t._v(t._s(t.bi)+"\n\t\t\t")]),t._v(" "),e("p",{staticClass:"account"},[t._v("\n\t\t\t\t余额："),e("strong",[t._v(t._s(t.money))]),t._v(t._s(t.bi)+" + "),e("strong",[t._v(t._s(t.zmoney))]),t._v(t._s(t.quan)+"\n\t\t\t")])]),t._v(" "),t.isEnough?e("div",{staticClass:"submit",style:{backgroundColor:t.btncolor},on:{click:t.submit}},[t._v("确认购买")]):e("a",{staticClass:"charge",style:{backgroundColor:t.btncolor},attrs:{href:"uniteqqreader://nativepage/coin/recharge?value=1"},on:{click:t.recharge}},[t._v("余额不足，充值购买")]),t._v(" "),e("i",{staticClass:"close",on:{click:function(o){o.preventDefault(),t.hidemask(o)}}})])])},staticRenderFns:[]}}]);